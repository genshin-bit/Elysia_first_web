<?php

defined('ABSPATH') || exit;
?>
<div class="elementor-loop-container elementor-grid" role="list">
    <style id="loop-5262">
        .elementor-5262 .elementor-element.elementor-element-f5f1e6d:not(.elementor-motion-effects-element-type-background),
        .elementor-5262 .elementor-element.elementor-element-f5f1e6d>.elementor-motion-effects-container>.elementor-motion-effects-layer {
            background-color: #FFFFFF;
        }

        .elementor-5262 .elementor-element.elementor-element-f5f1e6d,
        .elementor-5262 .elementor-element.elementor-element-f5f1e6d>.elementor-background-overlay {
            border-radius: 15px 15px 15px 15px;
        }

        .elementor-5262 .elementor-element.elementor-element-f5f1e6d {
            box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.15);
            transition: background 0.3s, border 0.3s, border-radius 0.3s, box-shadow 0.3s;
            padding: 30px 30px 30px 30px;
        }

        .elementor-5262 .elementor-element.elementor-element-f5f1e6d>.elementor-background-overlay {
            transition: background 0.3s, border-radius 0.3s, opacity 0.3s;
        }

        .elementor-5262 .elementor-element.elementor-element-59640d0:not(.elementor-motion-effects-element-type-background)>.elementor-widget-wrap,
        .elementor-5262 .elementor-element.elementor-element-59640d0>.elementor-widget-wrap>.elementor-motion-effects-container>.elementor-motion-effects-layer {
            background-color: #FFFFFF;
        }

        .elementor-5262 .elementor-element.elementor-element-59640d0>.elementor-element-populated {
            transition: background 0.3s, border 0.3s, border-radius 0.3s, box-shadow 0.3s;
            padding: 0px 0px 0px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-59640d0>.elementor-element-populated>.elementor-background-overlay {
            transition: background 0.3s, border-radius 0.3s, opacity 0.3s;
        }

        .elementor-5262 .elementor-element.elementor-element-93e56a4>.elementor-element-populated {
            padding: 0px 0px 0px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-290e96b .elementor-heading-title {
            font-size: 30px;
        }

        .elementor-5262 .elementor-element.elementor-element-6e03f80>.elementor-widget-container {
            margin: 0px 0px -25px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button {
            background-color: var(--e-global-color-blocksy_palette_1);
            font-size: 15px;
            text-transform: uppercase;
            fill: var(--e-global-color-blocksy_palette_8);
            color: var(--e-global-color-blocksy_palette_8);
            padding: 10px 15px 10px 15px;
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button:hover,
        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button:focus {
            background-color: var(--e-global-color-blocksy_palette_2);
            color: var(--e-global-color-blocksy_palette_8);
            border-color: var(--e-global-color-blocksy_palette_8);
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0>.elementor-widget-container {
            margin: 0px 0px 0px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 {
            z-index: 20;
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button:hover svg,
        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button:focus svg {
            fill: var(--e-global-color-blocksy_palette_8);
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button-content-wrapper {
            gap: 5px;
        }

        .elementor-5262 .elementor-element.elementor-element-006f9a0 .elementor-button .elementor-button-icon svg {
            height: 24px;
        }

        .elementor-bc-flex-widget .elementor-5262 .elementor-element.elementor-element-93e56a4.elementor-column .elementor-widget-wrap {
            align-items: center;
        }

        .elementor-5262 .elementor-element.elementor-element-93e56a4.elementor-column.elementor-element[data-element_type="column"]>.elementor-widget-wrap.elementor-element-populated {
            align-content: center;
            align-items: center;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6>.elementor-widget-container {
            padding: 0px 0px 0px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-icon {
            width: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-icon i {
            font-size: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-icon svg {
            --e-icon-list-icon-size: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-text,
        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-text a {
            color: #424242;
        }

        .elementor-5262 .elementor-element.elementor-element-01720f6 .elementor-icon-list-item {
            font-size: 50px;
            line-height: 13px;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f>.elementor-widget-container {
            padding: 0px 0px 0px 0px;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-icon {
            width: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-icon i {
            font-size: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-icon svg {
            --e-icon-list-icon-size: 14px;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-text,
        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-text a {
            color: #424242;
        }

        .elementor-5262 .elementor-element.elementor-element-922249f .elementor-icon-list-item {
            font-size: 16px;
        }

        @media (min-width: 768px) {
            .elementor-5262 .elementor-element.elementor-element-59640d0 {
                width: 78.498%;
            }

            .elementor-5262 .elementor-element.elementor-element-93e56a4 {
                width: 21.451%;
            }
        }

        @media (max-width: 767px) {
            .elementor-5262 .elementor-element.elementor-element-f5f1e6d {
                padding: 15px 15px 15px 15px;
            }

            .elementor-5262 .elementor-element.elementor-element-290e96b .elementor-heading-title {
                font-size: 20px;
            }

            .elementor-5262 .elementor-element.elementor-element-6e03f80 .elementor-widget-container {
                font-size: 15px;
            }
        }
    </style>
    <?php
    $elysia_solution_query = null;
    if (isset($GLOBALS['elysia_solution_query']) && $GLOBALS['elysia_solution_query'] instanceof WP_Query) {
        $elysia_solution_query = $GLOBALS['elysia_solution_query'];
    } else {
        global $wp_query;
        if ($wp_query instanceof WP_Query) {
            $elysia_solution_query = $wp_query;
        }
    }

    if ($elysia_solution_query && $elysia_solution_query->have_posts()) {
        while ($elysia_solution_query->have_posts()) {
            $elysia_solution_query->the_post();
            $elysia_solution_id = get_the_ID();
            $elysia_solution_title = get_the_title();
            $elysia_solution_link = get_permalink();
            $elysia_solution_excerpt = get_the_excerpt();
            if (!$elysia_solution_excerpt) {
                $elysia_solution_excerpt = wp_trim_words(wp_strip_all_tags(get_the_content(null, false, $elysia_solution_id)), 60);
            }
            $elysia_solution_day = get_the_date('d');
            $elysia_solution_month_year = get_the_date('Y | F');
            $elysia_read_more_label = sprintf(__('Read more about %s', 'elysia_first_web'), $elysia_solution_title);
    ?>
            <div <?php post_class('elementor elementor-5262 e-loop-item', $elysia_solution_id); ?> data-elementor-type="loop-item" data-elementor-id="5262" data-elementor-post-type="elementor_library" data-custom-edit-handle="1">
                <section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-f5f1e6d elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f5f1e6d" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
                    <div class="elementor-container elementor-column-gap-default">
                        <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-59640d0" data-id="59640d0" data-element_type="column" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
                            <div class="elementor-widget-wrap elementor-element-populated">
                                <div class="elementor-element elementor-element-290e96b elementor-widget elementor-widget-theme-post-title elementor-page-title elementor-widget-heading" data-id="290e96b" data-element_type="widget" data-widget_type="theme-post-title.default">
                                    <div class="elementor-widget-container">
                                        <h2 class="elementor-heading-title elementor-size-default">
                                            <a href="<?php echo esc_url($elysia_solution_link); ?>">
                                                <?php echo esc_html($elysia_solution_title); ?>
                                            </a>
                                        </h2>
                                    </div>
                                </div>
                                <div class="elementor-element elementor-element-6e03f80 elementor-widget elementor-widget-theme-post-excerpt" data-id="6e03f80" data-element_type="widget" data-widget_type="theme-post-excerpt.default">
                                    <div class="elementor-widget-container">
                                        <p><?php echo esc_html($elysia_solution_excerpt); ?></p>
                                    </div>
                                </div>
                                <div class="elementor-element elementor-element-006f9a0 elementor-align-left elementor-mobile-align-left elementor-widget elementor-widget-button" data-id="006f9a0" data-element_type="widget" data-widget_type="button.default">
                                    <div class="elementor-widget-container">
                                        <div class="elementor-button-wrapper">
                                            <a class="elementor-button elementor-button-link elementor-size-md" href="<?php echo esc_url($elysia_solution_link); ?>" aria-label="<?php echo esc_attr($elysia_read_more_label); ?>">
                                                <span class="elementor-button-content-wrapper">
                                                    <span class="elementor-button-text">read more</span>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-93e56a4 elementor-hidden-mobile" data-id="93e56a4" data-element_type="column">
                            <div class="elementor-widget-wrap elementor-element-populated">
                                <div class="elementor-element elementor-element-01720f6 elementor-align-center elementor-widget elementor-widget-post-info" data-id="01720f6" data-element_type="widget" data-widget_type="post-info.default">
                                    <div class="elementor-widget-container">
                                        <ul class="elementor-inline-items elementor-icon-list-items elementor-post-info">
                                            <li class="elementor-icon-list-item elementor-repeater-item-37820db elementor-inline-item" itemprop="datePublished">
                                                <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-date">
                                                    <time><?php echo esc_html($elysia_solution_day); ?></time>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="elementor-element elementor-element-922249f elementor-align-center elementor-widget elementor-widget-post-info" data-id="922249f" data-element_type="widget" data-widget_type="post-info.default">
                                    <div class="elementor-widget-container">
                                        <ul class="elementor-inline-items elementor-icon-list-items elementor-post-info">
                                            <li class="elementor-icon-list-item elementor-repeater-item-37820db elementor-inline-item" itemprop="datePublished">
                                                <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-date">
                                                    <time><?php echo esc_html($elysia_solution_month_year); ?></time>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
    <?php
        }
        wp_reset_postdata();
    } else {
        echo '<p>' . esc_html__('No solutions found.', 'elysia_first_web') . '</p>';
    }

    if ($elysia_solution_query instanceof WP_Query && $elysia_solution_query->max_num_pages > 1) {
        $elysia_paged = 1;
        if (get_query_var('paged')) {
            $elysia_paged = (int) get_query_var('paged');
        } elseif (get_query_var('page')) {
            $elysia_paged = (int) get_query_var('page');
        }
        $elysia_add_args = array();
        if (isset($_GET['solution_cat'])) {
            $elysia_filter_cat = sanitize_text_field(wp_unslash($_GET['solution_cat']));
            if ($elysia_filter_cat !== '') {
                $elysia_add_args['solution_cat'] = $elysia_filter_cat;
            }
        }
        $elysia_pagination_links = paginate_links(
            array(
                'current'   => max(1, $elysia_paged),
                'total'     => (int) $elysia_solution_query->max_num_pages,
                'type'      => 'array',
                'prev_text' => __('Previous', 'elysia_first_web'),
                'next_text' => __('Next', 'elysia_first_web'),
                'add_args'  => $elysia_add_args,
            )
        );
        if (!empty($elysia_pagination_links) && is_array($elysia_pagination_links)) {
            echo '<nav class="elementor-pagination" aria-label="Pagination">';
            foreach ($elysia_pagination_links as $elysia_link) {
                echo $elysia_link;
            }
            echo '</nav>';
        }
    }
    ?>
</div>