# 文章详情动态化方案（page-blog-detail.php）

> 仅使用 **ACF 插件 + WordPress 原生功能** 完成动态化，不依赖其它插件；  
> 页面样式和 Elementor 导出的 HTML 结构、class 保持不变；  
> 在实现过程中尽量考虑模块复用。

---

## 1. 背景与目标

- 当前文章详情页模板为  
  [`page-blog-detail.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/page-blog-detail.php)，内部使用了一组静态模板：
  - Hero：[`blog-detail-hero.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-hero.php)
  - 内容区：[`blog-detail-content.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-content.php)
  - 侧边“最新更新”：[`blog-detail-sidebar-latest.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-latest.php)
  - 侧边“联系方式”：[`blog-detail-sidebar-contact.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-contact.php)
- 上述文件大部分内容从 `swforming.com` 的静态 HTML 迁移而来，标题、正文、链接等都写死。
- 目标：
  - 用 WordPress 原生文章（`post`）作为详情数据源；
  - 使用 ACF 配置少量可视化文案 / 控制项；
  - 不改变现有 HTML 结构与 CSS class，保证样式完全一致；
  - 尽量将模块做成可复用组件，方便在其它模板中复用（例如产品详情页底部推荐文章等）。

> 约定：  
> 详情页推荐的最佳实践是使用 **单文章模板 `single.php` / `single-post.php`**。  
> 本文在不改变你现有 `page-blog-detail.php` 的前提下，约定：
>
> - `page-blog-detail.php` 作为“文章详情壳模板”；  
> - 通过 URL 参数 / 自定义路由绑定到某一篇 `post` 上（由你后续决定实现方式）；  
> - 模板内部使用 `get_post()` / `setup_postdata()` 切换到目标文章上下文，再使用原生函数输出内容。  
>
> 若后续切换到 `single.php`，大部分动态化代码可以直接复用。

---

## 2. 模板结构概览

### 2.1 页面入口：page-blog-detail.php

文件：  
[`page-blog-detail.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/page-blog-detail.php)

核心结构：

```php
get_header();
?>
<link rel='stylesheet' ... widget-posts.min.css />
<link rel='stylesheet' ... widget-divider.min.css />
<link rel='stylesheet' ... widget-post-navigation.min.css />
<link rel='stylesheet' ... widget-table-of-contents.min.css />
<link rel='stylesheet' ... post-1361.css />

<main id="main" class="site-main hfeed" itemscope itemtype="https://schema.org/CreativeWork">
    <div data-elementor-type="single-post" ... class="elementor elementor-1361 ...">
        <?php get_template_part('template-parts/blog_detail/blog-detail', 'hero'); ?>

        <section ...>
            <div class="elementor-container elementor-column-gap-default">
                <div class="elementor-column elementor-col-50 ...">
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <?php get_template_part('template-parts/blog_detail/blog-detail', 'content'); ?>
                    </div>
                </div>
                <div class="elementor-column elementor-col-50 ...">
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <?php get_template_part('template-parts/components/toc'); ?>
                        <?php get_template_part('template-parts/components/share-buttons'); ?>
                        <?php get_template_part('template-parts/blog_detail/blog-detail', 'sidebar-latest'); ?>
                        <?php get_template_part('template-parts/blog_detail/blog-detail', 'sidebar-contact'); ?>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
<?php
get_footer();
```

- 样式文件和 `Elementor` 导出的结构保持不变；
- 动态化只在各个 `template-parts/blog_detail/*` 内完成。

### 2.2 子模块概览

1. Hero 区：  
   [`blog-detail-hero.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-hero.php)
   - 静态标题 `Roll Forming Machine Case Studies: ...`
   - 静态发布日期链接 `https://swforming.com/2025/06/24/` 与日期文本 `June 24, 2025`

2. 正文内容区：  
   [`blog-detail-content.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-content.php)
   - 整篇文章正文全部写死为 HTML；
   - 包含大量 `<h2>、<h3>、<p>、<figure>、<table>` 等元素。

3. 侧边栏最新文章：  
   [`blog-detail-sidebar-latest.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-latest.php)
   - 标题写死为 `New Update`；
   - 下方 4 条文章全部为固定链接和日期。

4. 侧边栏联系表单：  
   [`blog-detail-sidebar-contact.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-contact.php)
   - 上方 Divider 文案 `Strat Our Business Now`；
   - 标题 `Get In Touch With Sunway`；
   - 内嵌 Zoho form iframe，一段静态 JS。

> 说明：  
> 联系表单部分本身已经是“动态”的（来自第三方表单系统），这里只考虑将文案与标题通过 ACF 做成可配置，而不尝试重写表单逻辑。

---

## 3. 数据来源与 ACF 设计

### 3.1 核心数据：文章本身

文章详情页的主要数据应来自目标 `post`：

- 标题：`get_the_title($post)` / `the_title()`
- 正文：`apply_filters('the_content', $post->post_content)` / `the_content()`
- 日期：`get_the_date()` / `the_date()`
- 分类 / 标签：`get_the_category()` / `get_the_tag_list()`

在模板中通过以下方式切换当前文章上下文（示例）：

```php
$post_id = /* 根据实际路由获取当前文章ID */;
$post    = get_post($post_id);
setup_postdata($post);

// 之后可以直接使用 the_title(), the_content(), get_the_date() 等
```

> 具体 `post_id` 获取方式可根据你最终路由方案实现，例如：  
> - 使用自定义查询参数 `?post_id=123`；  
> - 使用自定义 rewrite 规则；  
> - 或直接改造 `single.php` / `single-post.php` 使用本套模板。

### 3.2 ACF 字段组规划

建议新增 2 组与详情页相关的 ACF 字段（使用 `acf_add_local_field_group()` 或在后台创建）：

1. **文章详情全局设置（Options Page 或 Theme Settings）**
   - 作用范围：所有文章详情页通用配置。
   - 字段建议：
     - `blog_detail_hero_divider_text`：Hero 上方 Divider 文案（如需）
     - `blog_detail_sidebar_latest_title`：侧边“New Update”标题
     - `blog_detail_sidebar_latest_count`：侧边最新文章数量（默认 4）
     - `blog_detail_sidebar_latest_category`：限制显示的分类（可选，多选）
     - `blog_detail_contact_divider_text`：联系区 Divider 文案（默认 “Strat Our Business Now”）
     - `blog_detail_contact_title`：联系区主标题（默认 “Get In Touch With Sunway”）
     - `blog_detail_contact_form_embed`：表单 iframe / script 内容（若未来需要可后台修改）

2. **文章级别设置（Location：Post = post）**
   - 作用范围：单篇文章。
   - 字段建议：
     - `blog_detail_custom_hero_title`：单篇文章自定义 Hero 标题（为空则用文章标题）
     - `blog_detail_hero_subtitle`：副标题（可选）
     - `blog_detail_hero_background`：Hero 背景图（可选）
     - `blog_detail_toc_enabled`：是否启用目录（与 `template-parts/components/toc` 配合）
     - 若后续需要“相关文章”算法，可加字段控制推荐逻辑。

> 字段读取原则：  
> 页面优先 → 全局设置 → 硬编码默认文案。  
> 与文章列表 `文章列表动态化方案.md` 中的回退策略保持一致。

---

## 4. 各模块动态化方案

### 4.1 Hero 模块：blog-detail-hero.php

文件：  
[`blog-detail-hero.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-hero.php)

当前核心结构（简化）：

```html
<section class="elementor-section ...">
    <div class="elementor-background-overlay"></div>
    <div class="elementor-container elementor-column-gap-default">
        <div class="elementor-column elementor-col-100 ...">
            <div class="elementor-widget-wrap elementor-element-populated">
                <div class="elementor-element ... elementor-widget-heading">
                    <div class="elementor-widget-container">
                        <h1 class="elementor-heading-title elementor-size-default">
                            Roll Forming Machine Case Studies: Real-World Success Stories in 2025
                        </h1>
                    </div>
                </div>

                <div class="elementor-element ... elementor-widget-post-info">
                    <div class="elementor-widget-container">
                        <ul class="elementor-inline-items elementor-icon-list-items elementor-post-info">
                            <li class="..." itemprop="datePublished">
                                <a href="https://swforming.com/2025/06/24/">
                                    <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-date">
                                        <time>June 24, 2025</time>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
```

**动态化目标：**

- `<h1>` 内容改为当前文章标题或自定义 Hero 标题；
- 日期显示为当前文章发布日期；
- 日期链接指向 WordPress 日期归档页；
- HTML 标签和 class 不变。

**实现思路：**

1. 在 PHP 顶部取得当前文章：

   ```php
   $post_id = get_the_ID(); // 若当前模板已在文章上下文中，可直接用
   ```

2. 计算 Hero 标题：

   ```php
   $hero_title = get_the_title($post_id);

   if (function_exists('get_field')) {
       $custom = get_field('blog_detail_custom_hero_title', $post_id);
       if ($custom) {
           $hero_title = $custom;
       }
   }
   ```

3. 日期和日期链接：

   ```php
   $date      = get_the_date('', $post_id);
   $year      = get_the_date('Y', $post_id);
   $month     = get_the_date('m', $post_id);
   $day       = get_the_date('d', $post_id);
   $date_link = get_day_link($year, $month, $day);
   ```

4. 将上述变量插入现有 HTML：

   ```php
   <h1 class="elementor-heading-title elementor-size-default">
       <?php echo esc_html($hero_title); ?>
   </h1>

   <a href="<?php echo esc_url($date_link); ?>">
       <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-date">
           <time><?php echo esc_html($date); ?></time>
       </span>
   </a>
   ```

> 可选增强：  
> 若配置了 `blog_detail_hero_background` 字段，可将图片 URL 通过 `style="background-image:url(...)"` 写入最外层 `<section>`，但不要更改其 class。

---

### 4.2 正文内容模块：blog-detail-content.php

文件：  
[`blog-detail-content.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-content.php)

当前内容全部是“案例文章”的静态 HTML，真实场景下应当使用文章编辑器中录入的内容。

**动态化目标：**

- 使用 WordPress 的 `the_content()` / `apply_filters('the_content', ...)` 输出正文；
- 保持外层 Elementor 容器结构不变。

当前外层结构：

```html
<div class="elementor-element ... elementor-widget-theme-post-content" data-widget_type="theme-post-content.default">
    <div class="elementor-widget-container">
        <!-- 这里是很长的一篇静态 HTML 文章 -->
    </div>
</div>
```

**实现方案：**

1. 删除 `<div class="elementor-widget-container">` 内部所有静态 HTML；
2. 使用 `the_content()` 替换：

   ```php
   <div class="elementor-element elementor-element-203c5bf4 elementor-widget elementor-widget-theme-post-content" data-id="203c5bf4" data-element_type="widget" data-widget_type="theme-post-content.default">
       <div class="elementor-widget-container">
           <?php
           while (have_posts()) {
               the_post();
               the_content();
           }
           ?>
       </div>
   </div>
   ```

> 若当前模板不是通过 WordPress 默认 Loop 进入，可用：

```php
$post_id = get_the_ID();
$post    = get_post($post_id);
setup_postdata($post);
the_content();
wp_reset_postdata();
```

> 注意：  
> 保持 `<div>` 层级和 class 不变，这样 Elementor 导出的 CSS 会继续作用于正文排版。

---

### 4.3 侧边栏最新文章：blog-detail-sidebar-latest.php

文件：  
[`blog-detail-sidebar-latest.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-latest.php)

当前结构：

- 标题写死为 `New Update`；  
- 下面 4 条 `<article>` 全部是固定链接和日期。

**目标：**

- 标题通过 ACF 全局字段配置；
- 列表通过 WordPress 查询真实最新文章；
- HTML 结构和 class 与现在完全一致；
- 查询逻辑与文章列表页侧边栏 `blog-sidebar-latest-headlines.php` 尽量复用。

**查询复用建议：**

项目中已存在函数：  
[`functions.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/functions.php) 中：

```php
function elysia_get_blog_latest_posts($limit = 4, $category_ids = array())
{
    $limit = max(1, (int) $limit);
    if (empty($category_ids) && function_exists('get_field')) {
        $page_id = elysia_get_blog_archive_page_id();
        if ($page_id) {
            $count_field = get_field('blog_sidebar_latest_posts_count', $page_id);
            if ($count_field) {
                $limit = (int) $count_field;
            }
            $categories_field = get_field('blog_sidebar_latest_category', $page_id);
            if (is_array($categories_field) && !empty($categories_field)) {
                $category_ids = array_map('intval', $categories_field);
            }
        }
    }
    $args = array(
        'post_type'      => 'post',
        'post_status'    => 'publish',
        'posts_per_page' => $limit,
        'orderby'        => 'date',
        'order'          => 'DESC',
    );
    if (!empty($category_ids)) {
        $args['category__in'] = $category_ids;
    }
    return get_posts($args);
}
```

**动态化步骤：**

1. 读取标题（全局配置）：

   ```php
   $latest_title = 'New Update';
   if (function_exists('get_field')) {
       $global_title = get_field('blog_detail_sidebar_latest_title', 'option');
       if ($global_title) {
           $latest_title = $global_title;
       }
   }
   ```

2. 查询文章列表（复用函数）：

   ```php
   $latest_posts = array();
   if (function_exists('elysia_get_blog_latest_posts')) {
       $latest_posts = elysia_get_blog_latest_posts();
   } else {
       $latest_posts = get_posts(array(
           'post_type'      => 'post',
           'post_status'    => 'publish',
           'posts_per_page' => 4,
           'orderby'        => 'date',
           'order'          => 'DESC',
       ));
   }
   ```

3. 保持现有 HTML 结构，改成循环输出：

   ```php
   <h4 class="elementor-heading-title elementor-size-default">
       <?php echo esc_html($latest_title); ?>
   </h4>

   <div class="elementor-posts-container elementor-posts elementor-posts--skin-classic elementor-grid" role="list">
       <?php
       if (!empty($latest_posts)) {
           foreach ($latest_posts as $post_obj) {
               $post_id = $post_obj->ID;
               $title   = get_the_title($post_id);
               $link    = get_permalink($post_id);
               $date    = get_the_date('', $post_id);
               ?>
               <article <?php post_class('elementor-post elementor-grid-item', $post_id); ?> role="listitem">
                   <div class="elementor-post__text">
                       <h3 class="elementor-post__title">
                           <a href="<?php echo esc_url($link); ?>">
                               <?php echo esc_html($title); ?>
                           </a>
                       </h3>
                       <div class="elementor-post__meta-data">
                           <span class="elementor-post-date">
                               <?php echo esc_html($date); ?>
                           </span>
                       </div>
                   </div>
               </article>
               <?php
           }
           wp_reset_postdata();
       }
       ?>
   </div>
   ```

> 复用性：  
> 这个模块与文章列表页的 `blog-sidebar-latest-headlines.php` 逻辑高度一致，只是挂载位置不同。  
> 将数据查询函数抽象在 `functions.php` 中后，两处模板只负责输出 HTML，可在其它页面（如产品详情页）直接引用同一 sidebar 模板。

---

### 4.4 侧边栏联系模块：blog-detail-sidebar-contact.php

文件：  
[`blog-detail-sidebar-contact.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/template-parts/blog_detail/blog-detail-sidebar-contact.php)

当前核心结构（简化）：

```html
<section class="elementor-section ..." data-settings='{"background_background":"classic"}'>
    <div class="elementor-container ...">
        <div class="elementor-column elementor-col-100 ...">
            <div class="elementor-widget-wrap elementor-element-populated">

                <!-- Divider 文案 -->
                <div class="elementor-element ... elementor-widget-divider">
                    <div class="elementor-widget-container">
                        <div class="elementor-divider">
                            <span class="elementor-divider-separator">
                                <span class="elementor-divider__text elementor-divider__element">
                                    Strat Our Business Now
                                </span>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- 标题 -->
                <div class="elementor-element ... elementor-widget-heading">
                    <div class="elementor-widget-container">
                        <h4 class="elementor-heading-title elementor-size-default">
                            Get In Touch With Sunway
                        </h4>
                    </div>
                </div>

                <!-- 表单 iframe -->
                <div class="elementor-element ... elementor-widget-html">
                    <div class="elementor-widget-container">
                        <div id="zf_div_pzNRX0a0vTLnd9POzzlI5FD2DQm4WX5_ZfrCo5BuWow"></div>
                        <script type="text/javascript">
                            // Zoho 表单脚本...
                        </script>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
```

**动态化目标：**

- Divider 文案和标题可在后台配置；  
- 表单代码作为字符串存入 ACF，全局可修改；  
- 仍然只依赖 ACF + 原生 WordPress，保留外部表单服务。

**实现步骤：**

1. 从 Options 读取文案：

   ```php
   $divider_text = 'Strat Our Business Now';
   $contact_title = 'Get In Touch With Sunway';
   $form_embed = ''; // 可选

   if (function_exists('get_field')) {
       $global_divider = get_field('blog_detail_contact_divider_text', 'option');
       if ($global_divider) {
           $divider_text = $global_divider;
       }

       $global_title = get_field('blog_detail_contact_title', 'option');
       if ($global_title) {
           $contact_title = $global_title;
       }

       $global_form = get_field('blog_detail_contact_form_embed', 'option');
       if ($global_form) {
           $form_embed = $global_form;
       }
   }
   ```

2. 替换文案位置：

   ```php
   <span class="elementor-divider__text elementor-divider__element">
       <?php echo esc_html($divider_text); ?>
   </span>

   <h4 class="elementor-heading-title elementor-size-default">
       <?php echo esc_html($contact_title); ?>
   </h4>
   ```

3. 表单 iframe 部分：

   - 方案 A（简单）：保留现有 Zoho 脚本不动，只动态化上面的文案；
   - 方案 B（灵活）：将整个 `<div + script>` 放入 `blog_detail_contact_form_embed` 字段中，模板中直接 `echo`：

     ```php
     <div class="elementor-element ... elementor-widget-html" data-widget_type="html.default">
         <div class="elementor-widget-container">
             <?php
             if ($form_embed) {
                 echo $form_embed; // 注意此处不做 esc，确保脚本正常执行
             } else {
                 // fallback：输出原始 Zoho 代码
                 ?>
                 <div id="zf_div_pzNRX0a0vTLnd9POzzlI5FD2DQm4WX5_ZfrCo5BuWow"></div>
                 <script type="text/javascript">
                     // 原始 JS...
                 </script>
                 <?php
             }
             ?>
         </div>
     </div>
     ```

> 复用性：  
> 此模块本身与文章无强关联，只需要 Options Page 配置即可在任意页面 / 模板中引用，适合封装为通用“联系区块”。

---

### 4.5 TOC 和分享模块（概念）

`page-blog-detail.php` 中引入：

```php
<?php get_template_part('template-parts/components/toc'); ?>
<?php get_template_part('template-parts/components/share-buttons'); ?>
```

由于当前项目中尚未查看这两个文件的详细实现，这里给出原则性建议：

1. TOC（目录）：
   - 若使用 ACF 控制是否显示：
     - 字段：`blog_detail_toc_enabled`（文章级）；`blog_detail_toc_global_default`（Options）
     - 输出逻辑：
       - 若启用，则从 `the_content()` 中解析 `<h2><h3>` 自动生成目录（可用简单的正则 + `wp_kses` 实现，仍然只用原生 PHP），或暂时保持静态结构。
   - 若暂时不实现自动目录，可保持当前静态 HTML，不影响文章动态化。

2. 分享按钮：
   - 原则上仅使用原生链接（如 `https://www.facebook.com/sharer.php?u=...`），不要依赖第三方插件；
   - 所有 URL 使用 `get_permalink($post_id)` 生成；
   - 文案/图标可以通过 CSS 或静态 HTML 完成。

---

## 5. 模块复用与函数封装建议

### 5.1 共用查询与工具函数

建议在 [`functions.php`](file:///e:/phpstudy_pro/WWW/wp-content/themes/Elysia_first_web/functions.php) 中统一管理与博客详情相关的工具函数，例如：

- `elysia_get_blog_latest_posts($limit, $category_ids)`  
  已存在，用于“New Update”模块，可同时服务列表页和详情页侧边栏。
- `elysia_get_blog_archive_page_id()`  
  列表页已使用，可承载列表页相关 ACF 配置。
- 若后续有“相关文章”模块，可新增：
  - `elysia_get_related_posts($post_id, $limit)`：根据分类 / 标签查询相关文章。

### 5.2 ACF 回退策略统一

所有涉及 ACF 文案的地方，建议采用统一策略：

1. 页面/文章级字段；  
2. 全局 Options 字段（如 `blog_detail_*`）；  
3. 硬编码默认文本（与当前静态文本一致）。

这样即使 ACF 未配置，页面也能正常显示，且与当前静态设计一致。

### 5.3 与文章列表动态方案的协同

- 文章列表已经有一套动态化方案（`文章列表动态化方案.md`）；  
- 本文的详情页方案在字段命名和函数设计上尽量对齐，方便维护：
  - 列表：`blog_*`  
  - 详情：`blog_detail_*`
- 将公共逻辑（最新文章、热门文章、联系区块）做成可在多模板调用的组件，可以减少重复实现。

---

## 6. 实施步骤建议

1. **创建 ACF 字段组**
   - 在后台或通过代码创建：
     - “文章详情页全局设置”（options page / 主题设置）
     - “文章详情（文章级设置）”（Location: Post = post）

2. **实现 / 调整辅助函数**
   - 在 `functions.php` 中补充：
     - 详情用的全局字段读取（如有需要，可以封装 `elysia_get_option($key)` 简化）。

3. **改造详情页各模块**
   1. 修改 `blog-detail-hero.php`：
      - 使用 `the_title()` 或 `blog_detail_custom_hero_title` 作为 H1；
      - 使用 `get_the_date()` 和 `get_day_link()` 输出日期和日期链接。
   2. 修改 `blog-detail-content.php`：
      - 删除静态 HTML；
      - 使用 `the_content()` 输出正文。
   3. 修改 `blog-detail-sidebar-latest.php`：
      - 使用 Option 字段输出标题；
      - 使用 `elysia_get_blog_latest_posts()` 查询并循环输出 `<article>`。
   4. 修改 `blog-detail-sidebar-contact.php`：
      - 使用 Option 字段输出 Divider 文案和标题；
      - 可选：使用 Option 字段输出表单 embed 代码。

4. **路由与绑定文章**
   - 短期方案：在 `page-blog-detail.php` 中根据 `$_GET['post_id']` 或其它参数读取目标文章；  
   - 长期推荐：用 `single.php` / `single-post.php` 替换默认单文章模板，并在其中引入上述模板结构。

5. **测试**
   - 用多篇真实文章进行验证：
     - Hero 标题和日期是否正确；  
     - 正文排版是否与原静态版本保持一致（注意表格、图片、列表等）；  
     - 侧边“New Update”是否展示最新文章，点击跳转正确；  
     - 联系区文案与表单是否显示正常；  
     - 在不配置任何 ACF 字段时，页面是否仍然正常回退到默认文案。

---

以上方案严格基于现有  
`page-blog-detail.php` 与 `template-parts/blog_detail/*` 的结构设计，  
只使用 **ACF + WordPress 原生功能** 实现文章详情页的完全动态化，并充分考虑了模块复用与后续扩展。

